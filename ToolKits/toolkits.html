<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Legal & Policies - Green Economy Toolkit</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --green-primary: #4eb5a6;
        --green-dark: #005d6a;
        --green-light: #b8e5e1;
        --green-accent: #7cc8bc;
        --light-bg: #f8fffe;
        --background: #ffffff;
        --foreground: #0f172a;
        --card: #ffffff;
        --card-foreground: #0f172a;
        --border: #e2e8f0;
        --muted-foreground: #64748b;
        --primary: #1e293b;
        --primary-foreground: #f8fafc;
        --secondary: #f1f5f9;
        --secondary-foreground: #1e293b;
        --radius: 0.5rem;
      }

      body {
        font-family: "Poppins", sans-serif;
        background-color: var(--background);
        color: var(--foreground);
        line-height: 1.6;
      }

      .container {
        width: 100%;
        margin: 0;
        padding: 0 1.5rem;
      }

      /* Header Styles */
      .header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(78, 181, 166, 0.1);
        padding: 1rem 0;
      }

      .header-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 1.5rem;
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }

      .logo-icon {
        width: 40px;
        height: 40px;
        background: linear-gradient(
          135deg,
          var(--green-dark),
          var(--green-primary)
        );
        border-radius: 0.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        font-size: 1.25rem;
      }

      .logo-text {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--green-dark);
      }

      .nav {
        display: flex;
        align-items: center;
        gap: 1.5rem;
      }

      .nav a {
        text-decoration: none;
        color: var(--muted-foreground);
        transition: color 0.3s ease;
        font-weight: 500;
      }

      .nav a:hover,
      .nav a.active {
        color: var(--green-primary);
      }

      .back-btn {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        background: var(--light-bg);
        color: var(--green-dark);
        text-decoration: none;
        border-radius: 0.5rem;
        transition: all 0.3s ease;
      }

      .back-btn:hover {
        background: var(--green-light);
      }

      /* Main Content */
      .main {
        padding-top: 5rem;
        min-height: 100vh;
      }

      /* Hero Section */
      .hero {
        background: linear-gradient(
          135deg,
          var(--green-dark),
          var(--green-primary)
        );
        color: white;
        padding: 4rem 0;
        margin-bottom: 3rem;
      }

      .hero-content {
        text-align: center;
        padding: 0 1.5rem;
      }

      .hero h1 {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 1rem;
      }

      .hero p {
        font-size: 1.25rem;
        opacity: 0.9;
      }

      /* Quick Access Section */
      .quick-access-section {
        margin: 0 1.5rem 3rem 1.5rem;
      }

      .section-title {
        font-size: 2rem;
        font-weight: 700;
        color: var(--green-dark);
        margin-bottom: 1.5rem;
        text-align: center;
      }

      .quick-access-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
      }

      .access-card {
        background: var(--card);
        padding: 2rem;
        border-radius: 1rem;
        border: 1px solid var(--border);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .access-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.1);
      }

      .access-icon {
        width: 48px;
        height: 48px;
        background: var(--green-primary);
        border-radius: 0.75rem;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.25rem;
        margin-bottom: 1rem;
      }

      .access-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--green-dark);
        margin-bottom: 0.75rem;
      }

      .access-description {
        color: var(--muted-foreground);
        margin-bottom: 1rem;
      }

      .access-link {
        color: var(--green-primary);
        font-weight: 500;
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .access-link:hover {
        color: var(--green-dark);
      }

      /* Regulations Section */
      .regulations-section {
        margin: 0 1.5rem 3rem 1.5rem;
      }

      .regulation-card {
        background: var(--card);
        padding: 2rem;
        border-radius: 1rem;
        border: 1px solid var(--border);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        margin-bottom: 1.5rem;
        transition: all 0.3s ease;
      }

      .regulation-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.1);
      }

      .regulation-header {
        display: flex;
        justify-content: between;
        align-items: start;
        gap: 1rem;
        flex-wrap: wrap;
      }

      .regulation-content {
        flex: 1;
        min-width: 300px;
      }

      .regulation-category {
        display: inline-block;
        padding: 0.25rem 0.75rem;
        background: var(--green-light);
        color: var(--green-dark);
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
        margin-bottom: 0.75rem;
      }

      .regulation-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--green-dark);
        margin-bottom: 0.75rem;
      }

      .regulation-description {
        color: var(--muted-foreground);
        margin-bottom: 1rem;
        line-height: 1.6;
      }

      .read-more-btn {
        padding: 0.75rem 1.5rem;
        background: var(--green-primary);
        color: white;
        border: none;
        border-radius: 0.5rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        white-space: nowrap;
      }

      .read-more-btn:hover {
        background: var(--green-dark);
        transform: translateY(-1px);
      }

      /* Compliance Checklist */
      .compliance-section {
        margin: 0 1.5rem 3rem 1.5rem;
      }

      .compliance-card {
        background: var(--card);
        padding: 2rem;
        border-radius: 1rem;
        border: 1px solid var(--border);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      }

      .checklist-item {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 1rem;
        background: var(--light-bg);
        border-radius: 0.5rem;
        margin-bottom: 0.75rem;
        transition: all 0.3s ease;
      }

      .checklist-item:hover {
        background: var(--green-light);
      }

      .checkbox {
        width: 20px;
        height: 20px;
        border: 2px solid var(--green-primary);
        border-radius: 0.25rem;
        background: white;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .checkbox.checked {
        background: var(--green-primary);
        color: white;
      }

      .checklist-text {
        color: var(--card-foreground);
        font-weight: 500;
      }

      .download-guide-btn {
        width: 100%;
        padding: 1rem;
        background: var(--green-primary);
        color: white;
        border: none;
        border-radius: 0.75rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 1.5rem;
      }

      .download-guide-btn:hover {
        background: var(--green-dark);
        transform: translateY(-1px);
      }

      /* Contact Section */
      .contact-section {
        margin: 0 1.5rem 3rem 1.5rem;
      }

      .contact-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
      }

      .contact-card {
        background: var(--card);
        padding: 2rem;
        border-radius: 1rem;
        border: 1px solid var(--border);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      }

      .contact-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--green-dark);
        margin-bottom: 1rem;
      }

      .contact-description {
        color: var(--muted-foreground);
        margin-bottom: 1rem;
      }

      .contact-info {
        font-size: 0.875rem;
        line-height: 1.8;
      }

      .contact-info strong {
        color: var(--green-dark);
      }

      .subscribe-btn {
        padding: 0.75rem 1.5rem;
        background: var(--green-primary);
        color: white;
        border: none;
        border-radius: 0.5rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .subscribe-btn:hover {
        background: var(--green-dark);
        transform: translateY(-1px);
      }

      /* AI Assistant Button */
      .ai-assistant-btn {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        width: 60px;
        height: 60px;
        background: var(--card);
        border: 2px solid var(--green-dark);
        border-radius: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        z-index: 999;
      }

      .ai-assistant-btn:hover {
        background: var(--green-dark);
        color: white;
        transform: scale(1.1);
      }

      /* Modal Styles */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        align-items: center;
        justify-content: center;
      }

      .modal-content {
        background: white;
        margin: 5% auto;
        padding: 2rem;
        max-width: 600px;
        width: 90%;
        border-radius: 1rem;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        position: relative;
        max-height: 80vh;
        display: flex;
        flex-direction: column;
      }

      .modal-close {
        position: absolute;
        top: 1rem;
        right: 1rem;
        font-size: 1.5rem;
        cursor: pointer;
        color: var(--muted-foreground);
        transition: color 0.2s ease;
      }

      .modal-close:hover {
        color: var(--green-primary);
      }

      .chat-container {
        display: flex;
        flex-direction: column;
        height: 100%;
        overflow: hidden;
      }

      .chat-messages {
        flex: 1;
        max-height: 400px;
        overflow-y: auto;
        margin-bottom: 1.5rem;
        padding: 1rem;
        border: 1px solid var(--border);
        border-radius: 0.5rem;
        background: var(--light-bg);
      }

      .chat-input-container {
        display: flex;
        gap: 1rem;
      }

      .chat-input {
        flex: 1;
        padding: 1rem;
        border: 1px solid var(--border);
        border-radius: 0.5rem;
        font-size: 1rem;
        transition: all 0.2s ease;
      }

      .chat-input:focus {
        outline: none;
        border-color: var(--green-primary);
        box-shadow: 0 0 0 3px rgba(78, 181, 166, 0.1);
      }

      .chat-send {
        background: linear-gradient(
          135deg,
          var(--green-dark),
          var(--green-primary)
        );
        color: white;
        border: none;
        padding: 1rem;
        border-radius: 0.5rem;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .chat-send:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      }

      .message {
        margin-bottom: 1rem;
        display: flex;
      }

      .message.user {
        justify-content: flex-end;
      }

      .message.ai {
        justify-content: flex-start;
      }

      .message-content {
        max-width: 80%;
        padding: 0.75rem 1rem;
        border-radius: 1rem;
        font-size: 0.875rem;
      }

      .message.user .message-content {
        background: var(--green-primary);
        color: white;
      }

      .message.ai .message-content {
        background: var(--light-bg);
        color: var(--foreground);
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .nav {
          display: none;
        }

        .hero h1 {
          font-size: 2rem;
        }

        .regulation-header {
          flex-direction: column;
          align-items: stretch;
        }

        .ai-assistant-btn {
          width: 50px;
          height: 50px;
          bottom: 1rem;
          right: 1rem;
        }

        .modal-content {
          width: 95%;
          margin: 10% auto;
        }
      }

      .btn {
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 0.5rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .btn-primary {
        background: var(--green-primary);
        color: white;
      }

      .btn-primary:hover {
        background: var(--green-dark);
        transform: translateY(-1px);
      }

      .text-center {
        text-align: center;
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <a href="dashboard.html" class="back-btn">
            <svg
              width="20"
              height="20"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M15 19l-7-7 7-7"
              ></path>
            </svg>
            Back to Dashboard
          </a>
          <div class="logo-icon">⚖️</div>
          <div class="logo-text">Legal & Policies</div>
        </div>
        <nav class="nav">
          <a href="dashboard.html">Dashboard</a>
          <a href="funding.html">Funding Hub</a>
          <a href="smme.html">SMME Directory</a>
          <a href="toolkits.html">Toolkits</a>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main">
      <!-- Hero Section -->
      <section class="hero">
        <div class="hero-content">
          <h1>Legal Framework & Policies</h1>
          <p>
            Understand the legal requirements, policies, and regulations
            governing green economy initiatives and sustainable business
            practices.
          </p>
        </div>
      </section>

      <!-- Quick Access -->
      <section class="quick-access-section">
        <h2 class="section-title">Quick Access</h2>
        <div class="quick-access-grid">
          <div class="access-card" onclick="viewDocument('terms-of-service')">
            <div class="access-icon">📄</div>
            <h3 class="access-title">Terms of Service</h3>
            <p class="access-description">
              Read our platform terms and conditions, user rights, and service
              limitations.
            </p>
            <a href="#" class="access-link">View Document →</a>
          </div>

          <div class="access-card" onclick="viewDocument('privacy-policy')">
            <div class="access-icon">🛡️</div>
            <h3 class="access-title">Privacy Policy</h3>
            <p class="access-description">
              How we collect, use, and protect your personal data and business
              information.
            </p>
            <a href="#" class="access-link">View Document →</a>
          </div>

          <div class="access-card" onclick="viewDocument('compliance-guide')">
            <div class="access-icon">ℹ️</div>
            <h3 class="access-title">Compliance Guide</h3>
            <p class="access-description">
              Environmental and business compliance requirements for green
              economy participation.
            </p>
            <a href="#" class="access-link">View Document →</a>
          </div>
        </div>
      </section>

      <!-- Environmental Regulations -->
      <section class="regulations-section">
        <h2 class="section-title">Environmental Regulations</h2>

        <div class="regulation-card">
          <div class="regulation-header">
            <div class="regulation-content">
              <div class="regulation-category">Environmental Law</div>
              <h3 class="regulation-title">
                Environmental Impact Assessment (EIA) Requirements
              </h3>
              <p class="regulation-description">
                Guidelines for conducting environmental assessments for business
                projects. This comprehensive framework outlines the mandatory
                processes for evaluating environmental impacts, stakeholder
                consultation requirements, and mitigation measures for
                sustainable development projects.
              </p>
            </div>
            <button
              class="read-more-btn"
              onclick="readMore('eia-requirements')"
            >
              Read More
            </button>
          </div>
        </div>

        <div class="regulation-card">
          <div class="regulation-header">
            <div class="regulation-content">
              <div class="regulation-category">Climate Regulation</div>
              <h3 class="regulation-title">
                Carbon Emission Standards and Reporting
              </h3>
              <p class="regulation-description">
                Mandatory reporting requirements for carbon emissions and
                reduction targets. Includes guidelines for measuring, reporting,
                and verifying greenhouse gas emissions, carbon credit trading,
                and compliance with national climate commitments.
              </p>
            </div>
            <button
              class="read-more-btn"
              onclick="readMore('carbon-standards')"
            >
              Read More
            </button>
          </div>
        </div>

        <div class="regulation-card">
          <div class="regulation-header">
            <div class="regulation-content">
              <div class="regulation-category">Waste Law</div>
              <h3 class="regulation-title">
                Waste Management and Recycling Legislation
              </h3>
              <p class="regulation-description">
                Legal framework for waste disposal, recycling, and circular
                economy practices. Covers waste classification, disposal
                permits, recycling obligations, and extended producer
                responsibility requirements for various industries.
              </p>
            </div>
            <button
              class="read-more-btn"
              onclick="readMore('waste-legislation')"
            >
              Read More
            </button>
          </div>
        </div>

        <div class="regulation-card">
          <div class="regulation-header">
            <div class="regulation-content">
              <div class="regulation-category">Energy Policy</div>
              <h3 class="regulation-title">
                Renewable Energy Incentives and Requirements
              </h3>
              <p class="regulation-description">
                Legal incentives and mandatory renewable energy adoption
                policies. Details government incentives, feed-in tariffs, net
                metering regulations, and renewable energy procurement
                requirements for public and private sector entities.
              </p>
            </div>
            <button
              class="read-more-btn"
              onclick="readMore('renewable-incentives')"
            >
              Read More
            </button>
          </div>
        </div>
      </section>

      <!-- Business Compliance Checklist -->
      <section class="compliance-section">
        <h2 class="section-title">Business Compliance Checklist</h2>
        <div class="compliance-card">
          <div class="checklist-item" onclick="toggleCheck(this)">
            <div class="checkbox">✓</div>
            <span class="checklist-text"
              >Environmental Management System (EMS) Implementation</span
            >
          </div>
          <div class="checklist-item" onclick="toggleCheck(this)">
            <div class="checkbox">✓</div>
            <span class="checklist-text"
              >Green Certification and Accreditation</span
            >
          </div>
          <div class="checklist-item" onclick="toggleCheck(this)">
            <div class="checkbox">✓</div>
            <span class="checklist-text"
              >Sustainability Reporting Requirements</span
            >
          </div>
          <div class="checklist-item" onclick="toggleCheck(this)">
            <div class="checkbox">✓</div>
            <span class="checklist-text"
              >Worker Safety in Green Operations</span
            >
          </div>
          <div class="checklist-item" onclick="toggleCheck(this)">
            <div class="checkbox">✓</div>
            <span class="checklist-text"
              >Supply Chain Environmental Standards</span
            >
          </div>
          <div class="checklist-item" onclick="toggleCheck(this)">
            <div class="checkbox">✓</div>
            <span class="checklist-text"
              >Community Engagement and Social Impact</span
            >
          </div>

          <button
            class="download-guide-btn"
            onclick="downloadComplianceGuide()"
          >
            Download Complete Compliance Guide
          </button>
        </div>
      </section>

      <!-- Legal Support & Contact -->
      <section class="contact-section">
        <h2 class="section-title">Legal Support & Contact</h2>
        <div class="contact-grid">
          <div class="contact-card">
            <h3 class="contact-title">Legal Questions?</h3>
            <p class="contact-description">
              For questions about legal compliance, regulations, or policy
              interpretation, contact our legal support team.
            </p>
            <div class="contact-info">
              <strong>Email:</strong> legal@greeneconomytoolkit.com<br />
              <strong>Phone:</strong> +27 (0) 11 123 4567<br />
              <strong>Hours:</strong> Monday - Friday, 8:00 AM - 5:00 PM SAST
            </div>
          </div>

          <div class="contact-card">
            <h3 class="contact-title">Document Updates</h3>
            <p class="contact-description">
              Stay informed about changes to legal documents and regulations.
              Subscribe to our legal updates newsletter.
            </p>
            <button class="subscribe-btn" onclick="subscribeToUpdates()">
              Subscribe to Updates
            </button>
          </div>
        </div>
      </section>
    </main>

    <!-- AI Assistant Button -->
    <div class="ai-assistant-btn" onclick="openAIAssistant()">
      <svg
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        style="width: 1.5rem; height: 1.5rem"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
        ></path>
      </svg>
    </div>

    <!-- AI Assistant Modal -->
    <div id="aiModal" class="modal">
      <div class="modal-content">
        <span class="modal-close" onclick="closeAIAssistant()">&times;</span>
        <div class="chat-container">
          <h3>AI Legal Assistant</h3>
          <div class="chat-messages" id="chatMessages">
            <div class="message ai">
              <div class="message-content">
                Hello! I can help you understand legal requirements and
                compliance matters for green economy businesses. What legal
                topic would you like assistance with?
              </div>
            </div>
          </div>
          <div class="chat-input-container">
            <input
              type="text"
              id="chatInput"
              class="chat-input"
              placeholder="Ask about legal requirements..."
            />
            <button class="chat-send" onclick="sendMessage()">
              <svg
                width="20"
                height="20"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"
                ></path>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Document viewing
      function viewDocument(docType) {
        console.log("Viewing document:", docType);
        alert(
          `Opening ${docType} document. In a real app, this would open the legal document.`,
        );
        // Implement document viewing logic here
      }

      // Regulation reading
      function readMore(regulationId) {
        console.log("Reading more about:", regulationId);
        alert("Opening detailed regulation information.");
        // Implement regulation details view
      }

      // Checklist functionality
      function toggleCheck(item) {
        const checkbox = item.querySelector(".checkbox");
        checkbox.classList.toggle("checked");

        if (checkbox.classList.contains("checked")) {
          checkbox.innerHTML = "✓";
        } else {
          checkbox.innerHTML = "";
        }
      }

      // Download compliance guide
      function downloadComplianceGuide() {
        console.log("Downloading compliance guide");
        alert(
          "Download started. In a real app, this would download the compliance guide PDF.",
        );
        // Implement download logic here
      }

      // Subscribe to updates
      function subscribeToUpdates() {
        console.log("Subscribing to legal updates");
        alert(
          "Subscription form would be displayed. In a real app, this would open a subscription form.",
        );
        // Implement subscription logic here
      }

      // AI Assistant functionality
      let chatMessages = [];

      function openAIAssistant() {
        document.getElementById("aiModal").style.display = "flex";
      }

      function closeAIAssistant() {
        document.getElementById("aiModal").style.display = "none";
      }

      function sendMessage() {
        const input = document.getElementById("chatInput");
        const message = input.value.trim();

        if (!message) return;

        addMessage(message, "user");
        input.value = "";

        setTimeout(() => {
          const aiResponse = generateLegalResponse(message);
          addMessage(aiResponse, "ai");
        }, 1000);
      }

      function addMessage(content, sender) {
        const messagesContainer = document.getElementById("chatMessages");
        const messageDiv = document.createElement("div");
        messageDiv.className = `message ${sender}`;

        messageDiv.innerHTML = `
          <div class="message-content">
            ${content}
          </div>
        `;

        messagesContainer.appendChild(messageDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;

        chatMessages.push({ content, sender, timestamp: new Date() });
      }

      function generateLegalResponse(userMessage) {
        const responses = [
          "For environmental compliance, you'll need to complete an Environmental Impact Assessment if your project affects the environment significantly.",
          "Carbon emission reporting is mandatory for large businesses. The requirements depend on your annual emissions and industry sector.",
          "Green business certification typically involves ISO 14001 or B-Corp standards. I can guide you through the requirements.",
          "Waste management regulations vary by province, but generally require proper classification, disposal permits, and recycling compliance.",
          "Renewable energy incentives include tax breaks, feed-in tariffs, and grants. The specific benefits depend on your project size and location.",
          "What specific legal area are you most concerned about? Environmental compliance, certification, or regulatory requirements?",
        ];

        return responses[Math.floor(Math.random() * responses.length)];
      }

      // Event listeners
      document
        .getElementById("chatInput")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") {
            sendMessage();
          }
        });

      // Close modal when clicking outside
      window.addEventListener("click", function (e) {
        const modal = document.getElementById("aiModal");
        if (e.target === modal) {
          closeAIAssistant();
        }
      });

      // Page initialization
      document.addEventListener("DOMContentLoaded", function () {
        console.log("Legal & Policies page loaded");
      });
    </script>
  </body>
</html>